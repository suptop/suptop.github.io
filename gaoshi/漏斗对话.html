<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>èŠå¤©è®°å½• â€” æ­Œè¯å¼æ»šåŠ¨æ•ˆæœ</title>
  <style>
    :root{
      --bg:#0f1724;
      --radius:16px;
      --max-translate:38px;
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%; margin:0;}
    body{
      background:linear-gradient(180deg,var(--bg) 0%, #071023 100%);
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-y:scroll;
      scroll-behavior: smooth;
    }

    .wrap{ max-width:840px; margin:60px auto; padding:48px 24px 120px; box-sizing:border-box; }
    h1{ text-align:center; margin:0 0 30px 0; font-size:20px; color:rgba(230,238,248,0.6); letter-spacing:1px; }

    .list{ display:flex; flex-direction:column; gap:22px; padding:20px 10px 40px; }
    .row{ display:flex; align-items:flex-end; min-height:48px; }
    .left{ justify-content:flex-start; }
    .right{ justify-content:flex-end; }

    .msg{
      display:inline-block;
      max-width:72%;
      padding:12px 14px;
      border-radius:var(--radius);
      box-shadow: 0 6px 20px rgba(2,6,23,0.6);
      transform-origin:center center;
      will-change:transform, opacity;
      transition:box-shadow .2s ease;
    }

    .msg.left{ background: rgba(255,255,255,0.06); color:#ffffff; border:1px solid rgba(255,255,255,0.15); }
    .msg.right{ background: rgba(14,165,164,0.35); color:#ffffff; }

    .spacer{ height:120vh }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>æ»šè½®æ‚¦åŠ¨ â€” èŠå¤©æ°”æ³¡ç¤ºä¾‹</h1>
    <div class="list" id="list">
      <div class="row left"><div class="msg left">å—¨ï¼Œä½ ä»Šå¤©å¥½åƒæœ‰ç©ºå—ï¼Ÿ</div></div>
      <div class="row right"><div class="msg right">æœ‰ç©ºçš„ï¼Œæ™šä¸Šæƒ³å»çœ‹ç”µå½±è¿˜æ˜¯åœ¨å®¶ç©æ¸¸æˆï¼Ÿ</div></div>
      <div class="row left"><div class="msg left">è¦ä¸è¦é¡ºä¾¿åƒç‚¹ä¸œè¥¿ï¼Ÿæˆ‘çŸ¥é“ä¸€å®¶ä¸é”™çš„å°åƒåº—ã€‚</div></div>
      <div class="row right"><div class="msg right">å¥½å•Šï¼Œå‡ ç‚¹é›†åˆï¼Ÿ</div></div>
      <div class="row left"><div class="msg left">ä¸ƒç‚¹åœ¨åœ°é“ç«™å£ï¼Œæˆ‘åˆ°æ—¶å‘å®šä½ã€‚</div></div>
      <div class="row right"><div class="msg right">æ”¶åˆ°ï¼æˆ‘å¸¦ä¸Šç”µå½±ç¥¨ï¼Œè®°å¾—æˆ´å£ç½©ğŸ˜</div></div>
      <div class="row left"><div class="msg left">å“ˆå“ˆï¼Œå¥½å˜ã€‚å¯¹äº†ä½ ä¸Šæ¬¡å‘çš„é‚£æ®µä»£ç æˆ‘çœ‹äº†ï¼Œå¾ˆèµã€‚</div></div>
      <div class="row right"><div class="msg right">è°¢è°¢å¤¸å¥–ï½ æœ‰ç©ºæˆ‘å†ä¼˜åŒ–ä¸€ä¸‹åŠ¨ç”»ã€‚</div></div>
      <div class="row left"><div class="msg left">æœŸå¾…ä½ çš„æ›´æ–° âœ¨</div></div>
      <div class="spacer"></div>
    </div>
  </div>

  <script>
    (function(){
      const msgs = Array.from(document.querySelectorAll('.msg'));
      let ticking = false;
      function update(){
        const vh = window.innerHeight;
        const centerY = vh / 2;
        msgs.forEach(el=>{
          const rect = el.getBoundingClientRect();
          const elCenter = rect.top + rect.height/2;
          let delta = (elCenter - centerY)/centerY;
          delta = Math.max(-2, Math.min(2, delta));

          const closeness = Math.max(0, 1 - Math.abs(delta));
          const translateY = delta * -38;

          // æ”¶æ‹¢/åˆ†ç¦»æ•ˆæœ: ä¸­é—´é è¿‘, ä¸Šä¸‹å·¦å³åˆ†ç¦»
          const side = el.classList.contains('right') ? 1 : -1;
          const translateX = side * (1 - closeness) * 120; // ä¸­å¿ƒé è¿‘ 0, ä¸Šä¸‹åˆ†ç¦» 120px

          const scale = 1 + closeness*0.04;
          const opacity = 0.55 + closeness*0.45;
          const shadowY = 6 + closeness*8;
          const shadowBlur = 16 + closeness*10;

          el.style.transform = `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`;
          el.style.opacity = opacity;
          el.style.boxShadow = `0 ${shadowY}px ${shadowBlur}px rgba(2,6,23,${0.55 + closeness*0.15})`;
        });
        ticking=false;
      }
      function onScroll(){ if(!ticking){ requestAnimationFrame(update); ticking=true; } }
      update();
      window.addEventListener('scroll', onScroll,{passive:true});
      window.addEventListener('resize', onScroll);
    })();
  </script>
</body>
</html>
