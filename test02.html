<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>多行书架展示</title>
  <style>
    /* 重置基础样式，去除默认边距和内边距 */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* 页面背景与字体 */
    body {
      background: #f8f5ee;
      font-family: sans-serif;
      height: 100vh;
      overflow: hidden; /* 禁止页面本身滚动 */
    }

    /* 整个书架区域，可垂直滚动 */
    .bookshelf-wrapper {
      height: 100vh;
      padding: 40px;
      overflow-y: auto;
    }

    /* 每层书架横向排布，可换行形成多行 */
    .shelf {
      display: flex;
      flex-wrap: wrap;
      row-gap: 40px;           /* 行间距 */
      position: relative;      /* 供封面绝对定位 */
      z-index: 1;
    }

    /* 每本书的容器：独立视角、可展开 */
    .book-container {
      position: relative;
      cursor: pointer;
      perspective: 1000px;     /* 增强视觉层次感 */
      overflow: visible;       /* 让展开的封面不被裁切 */
      z-index: 1;
    }

    /* 书脊样式：垂直排文字 + 渐变背景 */
    .book-spine {
      width: 40px;
      height: 200px;
      background: linear-gradient(to bottom, #444, #666);
      color: white;
      writing-mode: vertical-rl; /* 垂直文字方向 */
      text-align: center;
      padding: 5px;
      font-size: 14px;
      border-radius: 4px;
      z-index: 1; 

    }

    /* 封面样式（默认隐藏） */
    .book-cover {
      position: absolute;
      top: 0;
      left: 0;
      width: 150px;
      height: 200px;
      background-size: cover;
      background-position: center;
      border-radius: 4px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transform: translateX(0) scale(0.95);
      opacity: 0;
      transition: transform 0.6s ease, opacity 0.6s ease;
      z-index: 999; /* 保证浮在最上层 */
    }

    /* 鼠标悬停时：书脊旋转隐藏，封面展开显示 */
    .book-container:hover .book-spine {
      transform: rotateY(-30deg);
      opacity: 80%;
    }

    .book-container:hover .book-cover {
      transform: translateX(50px) scale(1);
      opacity: 1;
      z-index: 1;
    }

    /* 弹窗：阅读内容展示框 */
    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70%;
      max-width: 600px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(0,0,0,0.3);
      display: none; /* 默认隐藏 */
      z-index: 1000;
    }

    /* 显示弹窗 */
    .modal.active {
      display: block;
    }

    .modal h2 {
      margin-bottom: 10px;
    }

    .modal .close-btn {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- 书架外层容器 -->
  <div class="bookshelf-wrapper">
    <div class="shelf" id="shelf">
      <!-- JavaScript 动态生成书籍 -->
    </div>
  </div>

  <!-- 弹窗展示 -->
  <div class="modal" id="readerModal">
    <div class="close-btn" onclick="closeModal()">✖</div>
    <h2 id="readerTitle">书名</h2>
    <p>这里是《书名》的内容预览。你可以在这里嵌入章节、文字、或跳转链接。</p>
  </div>

  <script>
    const shelf = document.getElementById('shelf');
    const totalBooks = 42; // 书本数量

    for (let i = 1; i <= totalBooks; i++) {
      const container = document.createElement('div');
      container.className = 'book-container';
      container.onclick = () => openBook(`书名 ${i}`);

      const spine = document.createElement('div');
      spine.className = 'book-spine';
      spine.innerText = `书名 ${i}`;

      const cover = document.createElement('div');
      cover.className = 'book-cover';
      // 可替换成本地图片路径
      cover.style.backgroundImage = `url('https://picsum.photos/seed/book${i}/200/300')`;

      container.appendChild(spine);
      container.appendChild(cover);
      shelf.appendChild(container);
    }

    function openBook(title) {
      document.getElementById('readerTitle').innerText = title;
      document.getElementById('readerModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('readerModal').classList.remove('active');
    }
  </script>
</body>
</html>
